---
title: Project404 | 0x00——项目计划
date: 2021-03-01 10:56:20
tags:
- Project404
---

*作者：Chlamydomonos*

​		在前天的班会上，钱成同学和王向阳同学提出了一个提议——为提高同学们的编程能力，我们可以合作编写一个小项目。于是，经过两天的思考，一个由众多随机浮现的想法整合成的idea成型了。这将是一个基于虚幻4引擎的多人小游戏项目，在名称确定前暂时定名为`Project404`。

<!-- more -->

# Project404是什么？

总体来说，这是一个进行在立方体地图上，具有PVP要素的捉迷藏游戏。

## 关于立方体地图

游戏的地图将以一个立方体形状的“星球”为基础。星球上会随机生成若干建筑物，分为**玩家出生点**，**商店**与**迷宫建筑**。星球上除建筑之外的区域将有一些低矮的掩体。

### 为什么会有立方体星球？

这个想法最初来自我在寒假时关于《Minecraft》mod开发的一些讨论。这大概是当时的一些对话——

>**Chlamydomonos：**我的mod中需要一些零件。我可以添加一些什么零件呢？
>
>**███：**量子计算机！[^①]
>
>**Chlamydomonos：**为什么？
>
>**███：**计算轨道，建造戴森球！

​		此时，我有了一个初步的把“Minecraft”和”戴森球计划“联系起来的想法。

​		之后，我与王向阳有了进一步的讨论——

>**王向阳：**这地上的方格为什么错位了？（Chlamydomonos正在玩《戴森球计划》）
>
>**Chlamydomonos：**因为星球是圆的，无法被完美地展开到方形网格上。
>
>**王向阳：**说不定可以把星球变成方的……

​		于是，“方块”和“星球”的概念被又一次联系在一起。

​		之后，当我思考这个项目时，我就自然地使用了这个想法，让游戏的地图变成一个立方体。

### 立方体的一些细节

​		为简化开发工作及提高游戏体验，这个立方体星球上每个面的重力将垂直该面向下，并在面的各处大小相等。

​		根据进行游戏的玩家数量，每次游戏生成的地图大小将不同，上面的建筑数量也不同。

## 关于建筑

每场游戏开始时，建筑将随机生成在立方体地图上。

### 关于玩家出生点

​		**玩家出生点**将被设计为只有一层的小型建筑，为框架结构，没有墙。在地图上的数目较少。玩家死亡后将在此重生。

### 关于商店

​		**商店**将是占地面积较大的一层建筑，在外墙上有若干门和一些可作为掩体的结构。玩家可进入商店购买道具，在商店内的玩家处于无敌状态。

### 关于迷宫建筑

​		**迷宫建筑**将是随机生成的多层建筑。具体生成方式可能将采用[波函数坍缩算法](https://zhuanlan.zhihu.com/p/66416593?edition=yidianzixun&utm_source=yidianzixun&yidian_docid=0M2y2bvM)[^②]。迷宫建筑内将有多个相互连通的房间以及一些跑酷场景，供玩家躲藏。

另外，在建筑之外的地面上也会产生一些随机的掩体。

## 关于游戏规则

游戏的规则将兼具多人对战和捉迷藏的元素。

### 基础规则

​		游戏开始时，玩家会被不均匀地分为**Hider**和**Seeker**两类。Hider的数量多于Seeker。

​		游戏中，每名玩家有一个**分数**。Hider的分数会随时间逐步增加，Seeker的分数保持不变。

​		Hider可以对Seeker进行**攻击**。同时，Seeker可以对Hider进行**抓捕**。

​		Seeker具有**生命值**，受到攻击时会下降。当生命值降为0时，Seeker被某名Hider**击杀**。此时，Seeker失去一部分分数，转移给击杀者。几秒后，Seeker在出生点复活。

​		当一个Seeker成功对Hider进行抓捕后，两人互换身份，且被抓捕者的大部分分数转移给抓捕者。新产生的Seeker生命值默认达到上限。新产生的Hider会在短时间内处于无敌状态。

​		游戏将在限定的时间内进行。游戏结束后，分数最高的玩家获胜。

### 战斗规则

​		每名Hider有4个物品栏，可携带一个**主武器**，一个**副武器**，一个**手雷**以及一个**特殊道具**。

​		每名Seeker只有1个物品栏，可携带一个**特殊道具**。

​		游戏开始时，每名Hider默认携带一个初始主武器，没有手雷和特殊道具。每名Seeker不携带任何道具。

​		游戏开始时，一些道具会随机分布在地图的各处。可以装备该道具的玩家可捡起道具。

​		玩家可以在商店消耗分数购买道具。

#### 主武器

​		主武器将分为近战武器和远程武器两类。其中，近战武器可无限次攻击，而远程武器具有弹药上限，可到商店消耗分数补充弹药。

#### 副武器

​		副武器只能是近战武器。

#### 手雷

​		手雷是一种投掷使用的武器，具有数量上限，可到商店购买或从地图中捡起同种类型的手雷以补充数量。

#### 特殊道具

​		特殊道具是一类不能造成伤害的道具，使用时一般会消耗分数，有些的使用次数有上限，可能无法补充使用次数。

# 为什么使用虚幻4引擎？

在构思这个项目的过程中，最困难的阶段就是项目模板的选择。我曾思考过3种方案——

* 使用**Unity**引擎编写
* 不使用游戏引擎，采用**Java**语言直接调用**LWJGL**图形库从头实现游戏
* 使用**虚幻4**引擎编写

​		第二种方案首先被舍弃了。因为从头编写一个游戏的工作量过大，并不适合这个项目。

​		我的首选方案一直是使用Unity，因为Unity使用比较容易的**C#**语言，而且具有丰富的第三方插件来简化游戏的开发。但是，由于我们需要一个多人的游戏，这个方案还是被舍弃了。Unity曾经用来提供多人游戏支持的**Unet**库已经被弃用，而其宣称用来代替Unet的新版网络库一直都只是纸上谈兵。因此，最后虚幻4成为了唯一的可选方案。

​		虚幻4使用**C++**语言开发，并且具有完善的文档。这会让这个项目十分契合本学期的OOP课程。

# 一些其他想法

这个游戏的战斗系统将会是轻松愉快的沙雕风格。比如说我们目前构思出的一些武器——

## 倍增手雷

​		这个手雷在使用后数量不会减少，而会增加。但是，当其数量增加到127个后，再次使用它则会使数量溢出，变成-128个。此时它无法被丢弃，也无法被替换为别的武器。在玩家下次进入商店时，会扣除购买128个倍增手雷需要的分数。

## 随机传送杖

​		这是一个特殊道具，其效果为将一个随机的玩家传送到随机地点。

## 动量守恒炮

​		巨大而沉重的火炮，发射弹药后玩家将会被向后击飞。

## 锁定狙击枪

​		可以造成大量伤害，但是被锁定狙击枪击中的玩家将免疫除锁定狙击枪外的一切伤害。

[^①]: **███**刚刚入坑《戴森球计划》
[^②]:吐槽：这算法根本和波函数没有任何关系啊

